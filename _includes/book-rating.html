{% assign rating = include.rating | default: page.rating | default: 0 %}
{% assign rating_num = rating | plus: 0 %}

{% if rating_num > 0 %}
<style>
.book-rating {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  margin-top: 8px;
  font-size: 1.0em;
  position: relative;
  margin-bottom: 3rem;
}

.book-rating-stars {
  display: inline-flex;
  gap: 2px;
}

.book-rating-criteria {
  margin-top: 4px;
  padding: 12px 16px;
  background-color: rgba(0, 0, 0, 0.03);
  border-left: 3px solid rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  /* max-width: 500px; */
}

.book-rating-criteria strong {
  display: block;
  margin-bottom: 6px;
  font-weight: bold;
}
</style>

<div class="book-rating">
  <span class="book-rating-stars">
    {% for i in (1..5) %}
      {% if i <= rating_num %}
        ★
      {% else %}
        ☆
      {% endif %}
    {% endfor %}
  </span>
  <div class="book-rating-criteria">
    <strong>별점 기준:</strong>
    1점: 읽을 게 후회되는 책<br>
    2점: 읽은 게 후회되지는 않은 책<br>
    3점: 나의 생각을 바꾼 책 (새로운 걸 배웠다도 포함이긴 한데 그게 엄청 유용해야 함)<br>
    4점: 나의 행동을 바꾼 책<br>
    5점: 나의 생각과 행동을 모두 바꿨으며, 다른 사람들에게 꼭 읽어봐야 한다고 추천할 책
  </div>
</div>
{% endif %}

